<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhml"
            xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--<link rel="stylesheet"
          href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
          crossorigin="anonymous">

    <link rel="stylesheet"
          href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
          integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp"
          crossorigin="anonymous">-->

    <link rel="stylesheet" type="text/css" th:href="@{/webjars/bootstrap/css/bootstrap.min.css}">

    <title>PayMyBuddy Web Application</title>


</head>
<body>

    <nav class="navbar navbar-expand-lg navbar-light" style="background-color: #e3f2fd;">
        <a class="navbar-brand" href="#">PyMyBuddy</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
                <li class="nav-item active">
                    <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Features</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Pricing</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link disabled" href="/users">Contacts</a>
                </li>
            </ul>
        </div>
    </nav>


    <div class="container special" style=" padding-top: 50px;">

        <h2 class="h2">Liste des utilisateurs</h2>

        <div class="m-2 d-flex justify-content-end">
            <button type="button" class="btn btn-success p-2" >
                <a class="h6" th:href="@{users/new}" style="text-decoration: none; color: white">Add New User</a>
            </button>
        </div>

        <div th:if="${message}" class="alert alert-success text-center">
            [[${message}]]
        </div>

        <div class="table-responsive">
            <table class="table table-bordered table-striped table-sm">
                <thead class="thead-dark">
                <tr>
                    <th>ID</th>
                    <th>Pr√©nom</th>
                    <th>Nom</th>
                    <th>Email</th>
                    <th>Password</th>
                    <th>Balance</th>
                    <th>Role</th>
                    <th>Enabled</th>
                    <th></th>
                </tr>
                </thead>
                <tbody>
                    <tr th:if="${users.empty}">
                        <td colspan="3">Aucun utilisateur</td>
                    </tr>
                    <tr th:each="user: ${users}">
                        <!--<td >
                            <a href="/user/$(user.id)" th:text="${user.firstName}"/>
                        </td>-->
                        <td th:text="${user.id}"></td>
                        <td th:text="${user.firstName}"></td>
                        <td th:text="${user.lastName}"></td>
                        <td th:text="${user.email}"></td>
                        <td th:text="${user.password}"></td>
                        <td th:text="${user.balance}"></td>
                        <td th:text="${user.role}"></td>
                        <td th:text="${user.enabled}"></td>
                        <td>
                            <div class="d-flex justify-content-end">
                                <button type="button" class="btn btn-primary h6"><a class="h6 mr-3" th:href="@{'/users/edit/'+ ${user.id}}" style="text-decoration: none; color: white">Edit</a></button>
                                <button type="button" class="btn btn-danger h6" ><a class="h6" th:href="@{'/users/delete/'+ ${user.id}}" style="text-decoration: none; color: white">Delete</a></button>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>

        </div>
    </div>

   <!-- <p>
        Utilisateur : <span th:text="${userid.lastName}"/>
    </p>-->
</body>
</html>